# =============================================================================
# JobFlow Production Environment Configuration Template
# =============================================================================
# Copy this file to .env.production and fill in your actual values
# DO NOT commit .env.production to version control!

# =============================================================================
# GENERAL SETTINGS
# =============================================================================
ENVIRONMENT=production

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Replace with your production database URL
# Examples:
# PostgreSQL: postgresql://username:password@host:5432/database_name
# MySQL: mysql://username:password@host:3306/database_name
DATABASE_URL=postgresql://jobflow_user:YOUR_SECURE_PASSWORD@your-db-host:5432/jobflow_prod

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# CRITICAL: Generate strong, unique secrets for production!
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"

# JWT Configuration
JWT_SECRET_KEY=YOUR_STRONG_JWT_SECRET_HERE_32_CHARS_MIN
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=0.5
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password Security
PASSWORD_MIN_LENGTH=12
BCRYPT_ROUNDS=12
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=15

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
LOGIN_RATE_LIMIT_PER_MINUTE=3

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Replace with your actual frontend domain(s)
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# Chrome Extension ID (if applicable)
CHROME_EXTENSION_ID=your-actual-extension-id-here

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP Settings for password reset emails
EMAIL_SMTP_HOST=smtp.your-provider.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_USERNAME=your-email@yourdomain.com
EMAIL_SMTP_PASSWORD=your-app-specific-password
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=JobFlow

# =============================================================================
# SSL/HTTPS CONFIGURATION
# =============================================================================
# Force HTTPS in production
FORCE_HTTPS=true
SSL_CERT_PATH=/path/to/your/ssl/cert.pem
SSL_KEY_PATH=/path/to/your/ssl/private.key

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE_PATH=/var/log/jobflow/app.log
LOG_MAX_FILE_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# =============================================================================
# CACHE CONFIGURATION (Optional)
# =============================================================================
# Redis for production caching and rate limiting
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# MONITORING & HEALTH CHECKS
# =============================================================================
# Health check endpoints
HEALTH_CHECK_ENABLED=true

# External monitoring service URLs (optional)
MONITORING_WEBHOOK_URL=https://your-monitoring-service.com/webhook

# =============================================================================
# ADMIN CONFIGURATION
# =============================================================================
# IP addresses allowed to access admin endpoints (comma-separated)
ADMIN_IPS=your.admin.ip.address,another.admin.ip

# =============================================================================
# FILE STORAGE (if applicable)
# =============================================================================
# For resume uploads or other file storage
UPLOAD_MAX_FILE_SIZE=5242880  # 5MB
ALLOWED_FILE_TYPES=pdf,doc,docx,txt

# =============================================================================
# THIRD-PARTY API KEYS (if applicable)
# =============================================================================
# AI/ML Services
OPENAI_API_KEY=your-openai-api-key-here

# Email service (alternative to SMTP)
SENDGRID_API_KEY=your-sendgrid-api-key-here

# Analytics (optional)
GOOGLE_ANALYTICS_ID=your-ga-id-here

# =============================================================================
# DEPLOYMENT SPECIFIC
# =============================================================================
# Server configuration
HOST=0.0.0.0
PORT=8000

# Process management (for production servers)
WORKERS=4  # Number of worker processes
MAX_REQUESTS=1000  # Restart worker after N requests
MAX_REQUESTS_JITTER=50

# =============================================================================
# SECURITY HEADERS & POLICIES
# =============================================================================
# Content Security Policy
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; font-src 'self' data:; img-src 'self' data: https:; connect-src 'self' https:; frame-ancestors 'none';"

# Additional security settings
SECURE_COOKIES=true
SESSION_TIMEOUT_MINUTES=60